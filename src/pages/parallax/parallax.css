/* 
 * Import Nunito font
 */
@import url("https://fonts.googleapis.com/css?family=Nunito");

/* 
 * PAGE CONTAINER - KEY ELEMENT FOR PARALLAX
 * 
 * Why position: fixed?
 * - Isolates the page from the rest of the application
 * - Allows creating an independent scroll container
 * - Does not affect Layout and other pages
 * 
 * Why perspective: 1px?
 * - Creates 3D space for child elements
 * - The smaller the value (1px), the stronger the depth effect
 * - This is the "vanishing point" for 3D transformations
 * - Without perspective, elements with translateZ won't visually differ
 * 
 * Why transform-style: preserve-3d?
 * - Preserves 3D transformations for all child elements
 * - Without this, child elements "flatten" into a 2D plane
 * - Allows applying translateZ to nested elements
 * 
 * Why overflow-y: scroll?
 * - Scroll must occur on the element with perspective
 * - Parallax effect only works when scrolling the element with perspective
 * - If scroll is on body, but perspective is on a child element - effect won't work
 */
.parallax-page-container {
	height: 100dvh;
	overflow-y: scroll;
	overflow-x: hidden;
	perspective: 1px;
	transform-style: preserve-3d;
	margin: 0;
	padding: 0;
	font-family: Nunito, sans-serif;
	position: fixed;
}

/* 
 * Styles for headings
 */
.parallax-page-container h1 {
	font-size: 250%;
}

.parallax-page-container p {
	font-size: 140%;
	line-height: 150%;
	color: #333;
}

/* 
 * SLIDES - MAIN SECTIONS
 * 
 * Why transform-style: inherit?
 * - Inherits 3D context from parent (.parallax-page-container)
 * - Allows applying translateZ to ::before pseudo-elements
 * - Without this, pseudo-elements won't participate in 3D space
 * 
 * Why width: 100vw?
 * - Takes full viewport width
 * - Important for correct background positioning
 */
.slide {
	position: relative;
	padding: 25vh 10%;
	min-height: 100dvh;
	width: 100vw;
	box-sizing: border-box;
	box-shadow: 0 -1px 10px rgba(0, 0, 0, 0.7);
	transform-style: inherit;
}

/* 
 * IMAGES WITH PARALLAX EFFECT
 * 
 * Why translateZ(0.25px)?
 * - Positive value moves element "forward" (closer to viewer)
 * - When scrolling, elements with positive translateZ move FASTER
 * - 0.25px - small value for smooth effect
 * 
 * Why scale(0.75)?
 * - Compensates for visual enlargement due to proximity
 * - Formula: scale = perspective / (perspective + translateZ)
 * - For translateZ(0.25px): scale = 1 / (1 + 0.25) â‰ˆ 0.8, but 0.75 is used
 * - Without scale, element will look too large
 * 
 * Why rotate(2deg)?
 * - Creates visual effect of "floating" images
 * - Does not affect parallax, only appearance
 */
.parallax-page-container img {
	position: absolute;
	top: 50%;
	left: 35%;
	width: 320px;
	height: 240px;
	transform: translateZ(0.25px) scale(0.75) translateX(-94%) translateY(-100%) rotate(2deg);
	padding: 10px;
	border-radius: 5px;
	background: rgba(240, 230, 220, 0.7);
	box-shadow: 0 0 8px rgba(0, 0, 0, 0.7);
}

/* 
 * SECOND IMAGE - DIFFERENT DEPTH LEVEL
 * 
 * Why translateZ(0.4px)?
 * - Larger value = element even closer to viewer
 * - Moves even faster when scrolling
 * - Creates multi-layered parallax effect
 * 
 * Why scale(0.6)?
 * - Compensates for greater proximity
 * - Makes image visually smaller so it doesn't look giant
 */
.parallax-page-container img:last-of-type {
	transform: translateZ(0.4px) scale(0.6) translateX(-104%) translateY(-40%) rotate(-5deg);
}

/* 
 * PSEUDO-ELEMENT FOR BACKGROUND IMAGES
 * 
 * Why ::before?
 * - Allows adding background image without additional HTML
 * - Can apply translateZ to background separately from content
 * - Content stays at z=0, background goes "back"
 */
.slide:before {
	content: "";
	position: absolute;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0;
	box-shadow: 0 0 8px 1px rgba(0, 0, 0, 0.7);
}

/* 
 * CONTENT BLOCKS
 */
.title {
	width: 50%;
	padding: 5%;
	border-radius: 5px;
	background: rgba(240, 230, 220, 0.7);
	box-shadow: 0 0 8px rgba(0, 0, 0, 0.7);
}

/* 
 * Alternating positions of content blocks for visual variety
 */
.slide:nth-child(2n) .title {
	margin-left: 0;
	margin-right: auto;
}

.slide:nth-child(2n + 1) .title {
	margin-left: auto;
	margin-right: 0;
}

/* 
 * Background for slides and their pseudo-elements
 */
.slide,
.slide:before {
	background: 50% 50% / cover;
}

/* 
 * Styles for header sections
 */
.header {
	text-align: center;
	font-size: 175%;
	color: #fff;
	text-shadow: 0 2px 2px #000;
}

/* 
 * FIRST SECTION (#title) - HEADING
 * 
 * Why z-index: 2?
 * - Ensures heading is above background
 * - Background in ::before has default z-index (lower)
 */
#title {
	background-image: url("https://picsum.photos/640/480");
	z-index: 2;
}

/* 
 * HEADING IN FIRST SECTION WITH PARALLAX
 * 
 * Why translateZ(0.25px)?
 * - Heading moves slightly faster than background
 * - Creates "pop-out" text effect
 * 
 * Why scale(0.75)?
 * - Compensates for proximity
 * - Without this, heading will be too large
 * 
 * Why transform-origin: 50% 100%?
 * - Transformation point at bottom center
 * - Heading scales from bottom point
 * - Creates "growing" text effect
 */
#title h1 {
	transform: translateZ(0.25px) scale(0.75);
	transform-origin: 50% 100%;
}

/* 
 * SECTION #slide1 - BACKGROUND WITH PARALLAX
 * 
 * Why translateZ(-1px)?
 * - Negative value moves element "back" (further from viewer)
 * - When scrolling, elements with negative translateZ move SLOWER
 * - This is the main parallax effect!
 * 
 * Why scale(2)?
 * - CRITICALLY IMPORTANT: compensates for visual reduction due to distance
 * - Formula: scale = (perspective - translateZ) / perspective
 * - For translateZ(-1px) and perspective: 1px: scale = (1 - (-1)) / 1 = 2
 * - Without scale, background will look small and distant
 * - With scale(2), background fills entire screen but moves slower
 * 
 * HOW IT WORKS:
 * 1. User scrolls container with perspective
 * 2. Content (z=0) moves at normal speed
 * 3. Background (z=-1px) moves slower due to distance
 * 4. scale(2) compensates reduction, background remains full-size
 * 5. Result: background "lags" behind content = parallax effect!
 */
#slide1:before {
	background-image: url("https://picsum.photos/960/520");
	transform: translateZ(-1px) scale(2);
}

/* 
 * SECTION #slide2 - BACKGROUND WITHOUT PARALLAX
 * 
 * Why without translateZ?
 * - Background is applied directly to .slide, not to ::before
 * - Background moves at normal speed (z=0)
 * - Contrasts with other sections where background is slower
 */
#slide2 {
	background-image: url("https://picsum.photos/960/400");
	z-index: 2;
}

/* 
 * SECTION #slide3 - BACKGROUND WITH PARALLAX
 * 
 * Similar to #slide1:before
 * - translateZ(-1px) = slower
 * - scale(2) = size compensation
 */
#slide3:before {
	background-image: url("https://picsum.photos/980/600");
	transform: translateZ(-1px) scale(2);
}

/* 
 * FINAL SECTION - WITHOUT BACKGROUND
 */
#slide4 {
	background: #222;
}
